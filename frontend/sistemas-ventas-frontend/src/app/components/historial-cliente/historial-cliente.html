<h2>Ver Historial de Cliente</h2>

<!-- Formulario de Búsqueda -->
<form (ngSubmit)="buscarHistorial()">
  <label for="nombreCliente">Nombre del Cliente:</label>
  <input 
    type="text" 
    id="nombreCliente" 
    name="nombreCliente"
    [(ngModel)]="nombreClienteABuscar"
    placeholder="Escribe el nombre del cliente">
  
  <button type="submit">Buscar Historial</button>
</form>

<!-- Mensaje de Cargando... -->
<div *ngIf="cargando">
  <p>Cargando historial...</p>
</div>

<!-- Mensaje de "No hay resultados" o Error -->
<div *ngIf="!cargando && historial.length === 0 && mensaje">
  <p>{{ mensaje }}</p>
</div>

<!-- Tabla de Resultados -->
<table *ngIf="!cargando && historial.length > 0">
  <thead>
    <tr>
      <th>Número de Billete</th>
      <th>Precio</th>
      <th>Fecha de Venta</th>
      <th>Nombre del Sorteo</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of historial">
      <td>{{ item.numeroBillete }}</td>
      <td>{{ item.precio | currency:'COP':'$' }}</td>
      <td>{{ item.fechaVenta | date:'medium' }}</td>
      <td>{{ item.nombreSorteo }}</td>
    </tr>
  </tbody>
</table>
